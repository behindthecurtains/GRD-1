<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>GRD-1 Archive</title>
<style>
body{margin:0;font-family:"Courier New",monospace;background:#000;color:#fff;overflow:hidden;}
#startScreen,#bootArea,#grdArea,#overlayImg,#finalMsg{position:relative;width:100%;height:100%;display:none;}
#startScreen{display:flex;justify-content:center;align-items:center;flex-direction:column;height:600px;}
button{cursor:pointer;}
#bootArea,#grdArea,#overlayImg,#finalMsg{padding:12px;box-sizing:border-box;}
.banner{background:#c41616;padding:6px 10px;font-weight:800;border-radius:4px;}
.console{background:transparent;padding:6px;height:180px;overflow:auto;white-space:pre-wrap;border:1px dashed rgba(255,255,255,0.06);}
.ynBtn{background:#fff;color:#0033aa;border:2px solid rgba(0,0,0,0.12);padding:6px 10px;font-weight:700;margin-right:6px;}
#loginArea input{background:transparent;border:1px solid rgba(255,255,255,0.12);color:#fff;padding:6px 8px;}
#overlayImg{position:absolute;inset:0;background:#000;text-align:center;z-index:1000;}
#overlayImg img{max-width:90%;max-height:80%;margin-top:50px;}
#overlayImg button{position:absolute;top:6px;right:6px;padding:6px 10px;background:#c41616;color:#fff;border:none;font-weight:700;}
#finalMsg{display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:18px;}
@keyframes shake{0%,100%{transform:translate(0,0)}25%{transform:translate(-3px,2px)}50%{transform:translate(3px,-2px)}75%{transform:translate(-2px,-3px)}}
.glitch{animation:shake 0.08s infinite;}
#asciiFlash{position:absolute;inset:0;color:#fff;font-family:monospace;pointer-events:none;opacity:0;transition:opacity .06s linear;white-space:pre-wrap;padding:12px;}
</style>
</head>
<body>

<!-- Start Screen -->
<div id="startScreen">
  <button id="startBtn" style="background:#111;color:#fff;padding:18px 44px;font-weight:900;font-size:22px;">START</button>
</div>

<!-- Boot -->
<div id="bootArea">
  <pre id="bootText"></pre>
</div>

<!-- GRD -->
<div id="grdArea">
  <div class="banner" id="grdBanner">WARNING &gt;&gt; GRD-1 ACCESS</div>
  <div class="console" id="console">THE FOLLOWING RESEARCH FOOTAGE CONTAINS MATERIAL WHICH SOME VIEWERS MAY FIND DISTURBING.

ARE YOU SURE YOU WISH TO CONTINUE?</div>
  <div id="ynWrap"></div>
  <div id="loginArea">
    <input id="userInput" placeholder="ENTER USERNAME"/>
    <button id="userEnter">ENTER</button>
  </div>
  <div id="asciiFlash"></div>
</div>

<!-- Overlay for secret images -->
<div id="overlayImg">
  <button id="returnBtn">RETURN TO LOGON</button>
  <img id="secretImage" src="" alt="Secret"/>
</div>

<!-- Final message -->
<div id="finalMsg">
  <div style="font-weight:700;font-size:24px;margin-bottom:8px;">Happy Hallowe'en, Ghostwatchers!</div>
  <div>Try not to have sleepless nights...</div>
</div>

<script>
const SECRET = ['PASCOE','DEMESCU','OCC'];
let unlocked=[], finalTriggered=false;
const startScreen=document.getElementById('startScreen');
const startBtn=document.getElementById('startBtn');
const bootArea=document.getElementById('bootArea');
const bootText=document.getElementById('bootText');
const grdArea=document.getElementById('grdArea');
const consoleEl=document.getElementById('console');
const ynWrap=document.getElementById('ynWrap');
const loginArea=document.getElementById('loginArea');
const userInput=document.getElementById('userInput');
const userEnter=document.getElementById('userEnter');
const overlayImg=document.getElementById('overlayImg');
const secretImage=document.getElementById('secretImage');
const returnBtn=document.getElementById('returnBtn');
const finalMsg=document.getElementById('finalMsg');
const grdBanner=document.getElementById('grdBanner');
const asciiFlash=document.getElementById('asciiFlash');

/* Audio setup */
let audioCtx=null, masterGain=null, humGain=null;
function initAudio(){
  if(audioCtx) return;
  audioCtx = new (window.AudioContext||window.webkitAudioContext)();
  masterGain = audioCtx.createGain(); masterGain.gain.value=0.9; masterGain.connect(audioCtx.destination);
  humGain = audioCtx.createGain(); humGain.gain.value=0.00005; humGain.connect(masterGain);
  const osc1 = audioCtx.createOscillator(); osc1.type='sine'; osc1.frequency.value=55; osc1.connect(humGain); osc1.start();
  const osc2 = audioCtx.createOscillator(); osc2.type='sine'; osc2.frequency.value=57.5; osc2.connect(humGain); osc2.start();
}
function humFadeIn(){ if(humGain) humGain.gain.linearRampToValueAtTime(0.018,audioCtx.currentTime+1.0); }
function humFadeOut(){ if(humGain) humGain.gain.linearRampToValueAtTime(0.00005,audioCtx.currentTime+1.6); }
function playStaticBurst(){ if(!audioCtx) return; const len=Math.floor(audioCtx.sampleRate*0.08); const buf=audioCtx.createBuffer(1,len,audioCtx.sampleRate); const d=buf.getChannelData(0); for(let i=0;i<len;i++)d[i]=(Math.random()2-1)(1-i/len); const src=audioCtx.createBufferSource(); src.buffer=buf; const hp=audioCtx.createBiquadFilter(); hp.type='highpass'; hp.frequency.value=800; src.connect(hp); hp.connect(masterGain); src.start(); src.stop(audioCtx.currentTime+0.08); }

/* Boot */
const lawmanLines=['LAWMAN MOS SYSTEM READY','> INIT SEQ 1','> DETECT: 3.5" FLOPPY DRIVE A:','> LOADING: GHOSTWATCH.EXE','> READING FILE HEADERS...','> INITIALISING RESTRICTED ARCHIVE','> WARNING: ENCRYPTED FILES DETECTED','> DECRYPTING...','> MOUNTING MODULE: GRD-1','> EXECUTING /GRD-1/INIT...'];
function runBoot(){ bootText.textContent=''; let i=0; function step(){ if(i<lawmanLines.length){ bootText.textContent+=lawmanLines[i]+'\n'; if(i===2||i===3) playStaticBurst(); i++; setTimeout(step,500);} else{ setTimeout(()=>{bootArea.style.display='none'; startGRDPhase();},500);} } step(); }

/* GRD phase */
function startGRDPhase(){ grdArea.style.display='block'; consoleEl.textContent='THE FOLLOWING RESEARCH FOOTAGE CONTAINS MATERIAL WHICH SOME VIEWERS MAY FIND DISTURBING.\n\nARE YOU SURE YOU WISH TO CONTINUE?'; showYesNo(); }
function showYesNo(){ ynWrap.innerHTML=''; ynWrap.style.display='flex'; ['YES','NO'].forEach(txt=>{ const b=document.createElement('button'); b.textContent=txt; b.className='ynBtn'; b.onclick=()=>{ ynWrap.style.display='none'; loginArea.style.display='block'; userInput.focus(); }; ynWrap.appendChild(b); }); }

/* Login */
userEnter.addEventListener('click',tryUser); userInput.addEventListener('keydown',e=>{if(e.key==='Enter') tryUser();});
function tryUser(){ const val=(userInput.value||'').trim().toUpperCase(); userInput.value=''; if(!val) return; if(SECRET.includes(val)){ if(!unlocked.includes(val)) unlocked.push(val); showSecretOverlay(val);} else{ consoleEl.textContent+='\nACCESS DENIED'; triggerGlitch(); playStaticBurst(); }}
function showSecretOverlay(name){ loginArea.style.display='none'; overlayImg.style.display='block'; secretImage.src = name==='PASCOE' ? 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width=800 height=600><rect width=100% height=100% fill=%23001c73/><text x=50%25 y=50%25 fill=%23fff font-family=monospace font-size=28 text-anchor=middle>PASCOE ARCHIVE</text></svg>' : name==='DEMESCU' ? 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width=800 height=600><rect width=100% height=100% fill=%23002a50/><text x=50%25 y=50%25 fill=%23fff font-family=monospace font-size=28 text-anchor=middle>DEMESCU ARCHIVE</text></svg>' : 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width=800 height=600><rect width=100% height=100% fill=%23003360/><text x=50%25 y=50%25 fill=%23fff font-family=monospace font-size=28 text-anchor=middle>OCC ARCHIVE</text></svg>'; }
returnBtn.addEventListener('click',()=>{ overlayImg.style.display='none'; loginArea.style.display='block'; userInput.focus(); if(unlocked.length>=3 && !finalTriggered){ finalTriggered=true; startFinalSequence(); }});

/* Glitch */
function triggerGlitch(){ grdBanner.classList.add('glitch'); playStaticBurst(); asciiFlashEffect(); setTimeout(()=>{ grdBanner.classList.remove('glitch'); },420);}
function asciiFlashEffect(){ asciiFlash.style.opacity=1; const chars=['█','▓','▒','░',' ']; let text=''; for(let y=0;y<12;y++){ for(let x=0;x<56;x++) text+=chars[Math.floor(Math.random()*chars.length)]; text+='\n'; } text+='\n█ ERROR: UNKNOWN ENTITY DETECTED █'; asciiFlash.textContent=text; setTimeout(()=>{ asciiFlash.style.opacity=0; asciiFlash.textContent=''; },520);}

/* Final */
function startFinalSequence(){ loginArea.style.display='none'; grdArea.style.display='block'; let step=0; const t=setInterval(()=>{ triggerGlitch(); step++; if(step>10){ clearInterval(t); playFinalAudio(); }},200);}
function playFinalAudio(){ initAudio(); humFadeIn(); if('speechSynthesis' in window){ const u=new SpeechSynthesisUtterance("Happy Hallowe'en, Ghostwatchers! Try not to have sleepless nights."); u.rate=0.95; u.pitch=0.9; u.onend=()=>{ humFadeOut(); grdArea.style.display='none'; finalMsg.style.display='flex'; }; speechSynthesis.speak(u);} else { humFadeOut(); grdArea.style.display='none'; finalMsg.style.display='flex'; }}

/* Start button */
startBtn.addEventListener('click',()=>{ initAudio(); startScreen.style.display='none'; bootArea.style.display='block'; runBoot(); });
</script>

</body>
</html>